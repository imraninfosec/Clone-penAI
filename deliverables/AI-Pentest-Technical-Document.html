<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>AI Pentest Platform - Technical Document</title>
  <style>
    :root {
      --bg: #f6faf7;
      --surface: #ffffff;
      --ink: #13241a;
      --muted: #486153;
      --line: #d8e6dc;
      --green-900: #0f3a24;
      --green-700: #1b5e3a;
      --green-600: #27734b;
      --green-500: #2f8a57;
      --green-100: #e7f4ec;
      --amber: #9a6a00;
      --red: #8a2d2d;
      --shadow: 0 8px 24px rgba(13, 46, 30, 0.08);
    }

    * { box-sizing: border-box; }

    body {
      margin: 0;
      background: linear-gradient(180deg, #f1f8f3 0%, #f7fbf8 35%, #ffffff 100%);
      color: var(--ink);
      font-family: 'Segoe UI', Tahoma, Arial, sans-serif;
      line-height: 1.5;
    }

    .page {
      max-width: 1020px;
      margin: 24px auto 48px;
      padding: 0 20px;
    }

    .cover {
      position: relative;
      background: radial-gradient(circle at 80% 10%, rgba(58, 147, 91, 0.18), transparent 36%),
                  linear-gradient(145deg, #0f3a24 0%, #1f6b43 62%, #2b8a58 100%);
      color: #f4fff8;
      border-radius: 18px;
      overflow: hidden;
      box-shadow: var(--shadow);
      padding: 38px 42px;
      min-height: 320px;
    }

    .cover::after {
      content: "";
      position: absolute;
      inset: auto -120px -120px auto;
      width: 300px;
      height: 300px;
      border-radius: 50%;
      background: rgba(255, 255, 255, 0.08);
    }

    .cover h1 {
      margin: 14px 0 10px;
      font-family: Georgia, 'Times New Roman', serif;
      font-size: 40px;
      line-height: 1.1;
      letter-spacing: 0.3px;
    }

    .cover p {
      margin: 8px 0;
      max-width: 760px;
      color: rgba(239, 255, 246, 0.95);
    }

    .brand {
      display: flex;
      align-items: center;
      gap: 14px;
    }

    .brand img {
      width: 58px;
      height: 58px;
      object-fit: contain;
      border-radius: 12px;
      background: rgba(255, 255, 255, 0.12);
      padding: 8px;
    }

    .pill {
      display: inline-block;
      background: rgba(255, 255, 255, 0.16);
      border: 1px solid rgba(255, 255, 255, 0.26);
      color: #f4fff8;
      padding: 5px 10px;
      border-radius: 999px;
      font-size: 12px;
      font-weight: 600;
      letter-spacing: 0.4px;
      margin-right: 8px;
    }

    .meta-grid {
      margin-top: 18px;
      display: grid;
      grid-template-columns: repeat(4, minmax(0, 1fr));
      gap: 10px;
    }

    .meta-card {
      background: rgba(255, 255, 255, 0.12);
      border: 1px solid rgba(255, 255, 255, 0.24);
      border-radius: 12px;
      padding: 10px 12px;
      font-size: 12px;
      line-height: 1.35;
    }

    .meta-card strong { display: block; font-size: 11px; opacity: 0.85; }

    .section {
      margin-top: 18px;
      background: var(--surface);
      border: 1px solid var(--line);
      border-radius: 14px;
      box-shadow: var(--shadow);
      padding: 20px;
      break-inside: avoid;
      page-break-inside: avoid;
    }

    .section h2 {
      margin: 0 0 12px;
      font-family: Georgia, 'Times New Roman', serif;
      color: var(--green-900);
      font-size: 28px;
      line-height: 1.15;
    }

    .section h3 {
      margin: 20px 0 8px;
      color: var(--green-700);
      font-size: 17px;
      font-weight: 600;
    }

    .section p { margin: 0 0 10px; color: #163020; }

    .muted { color: var(--muted); }

    ul { margin: 8px 0 10px 20px; padding: 0; }
    li { margin: 5px 0; }

    .kpi {
      display: grid;
      grid-template-columns: repeat(4, minmax(0, 1fr));
      gap: 10px;
      margin-top: 12px;
    }

    .kpi .item {
      border: 1px solid var(--line);
      border-radius: 10px;
      background: var(--green-100);
      padding: 10px;
    }

    .kpi .label {
      font-size: 12px;
      color: #335a43;
      font-weight: 600;
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }

    .kpi .value {
      margin-top: 6px;
      font-size: 24px;
      font-weight: 700;
      color: var(--green-900);
      line-height: 1;
    }

    table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 8px;
      font-size: 13px;
    }

    th, td {
      border: 1px solid var(--line);
      padding: 9px 10px;
      text-align: left;
      vertical-align: top;
      word-break: keep-all;
      overflow-wrap: anywhere;
    }

    th {
      background: #edf7f1;
      color: #204731;
      font-weight: 700;
    }

    .status-strong { color: var(--green-700); font-weight: 700; }
    .status-medium { color: var(--amber); font-weight: 700; }
    .status-risk { color: var(--red); font-weight: 700; }

    .grid-2 {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 12px;
    }

    .card {
      border: 1px solid var(--line);
      border-radius: 10px;
      background: #fbfefd;
      padding: 12px;
    }

    .code {
      background: #f4f7f5;
      border: 1px solid #dbe8df;
      border-radius: 8px;
      padding: 10px;
      font-family: ui-monospace, 'SFMono-Regular', Menlo, Consolas, monospace;
      font-size: 12px;
      color: #183125;
      white-space: pre-wrap;
      word-break: break-word;
    }

    .flow {
      border: 1px dashed #a9c8b5;
      border-radius: 10px;
      background: #f8fcfa;
      padding: 14px;
      font-size: 13px;
      color: #204633;
      line-height: 1.4;
    }

    .footer {
      margin-top: 14px;
      padding: 12px;
      border-radius: 10px;
      border: 1px solid #d5e6da;
      background: #f4fbf6;
      font-size: 12px;
      color: #355645;
    }

    .small { font-size: 12px; }

    @media (max-width: 900px) {
      .meta-grid, .kpi, .grid-2 { grid-template-columns: 1fr 1fr; }
    }

    @media (max-width: 640px) {
      .cover { padding: 22px; }
      .cover h1 { font-size: 32px; }
      .meta-grid, .kpi, .grid-2 { grid-template-columns: 1fr; }
    }

    @page {
      size: A4;
      margin: 14mm;
    }

    @media print {
      body { background: #fff; }
      .page { margin: 0; max-width: none; padding: 0; }
      .section, .cover { box-shadow: none; }
      .section { margin-top: 12px; }
      a { color: inherit; text-decoration: none; }
    }
  </style>
</head>
<body>
  <div class="page">
    <section class="cover">
      <div class="brand">
        <img src="./logo2_white.png" alt="AI Pentest Platform logo" />
        <div>
          <span class="pill">CONFIDENTIAL</span>
          <span class="pill">TECHNICAL DOCUMENT</span>
        </div>
      </div>
      <h1>AI Pentest Platform<br/>Technical Architecture & Security Readiness</h1>
      <p>Professional technical document prepared for project positioning, operational readiness, and leadership-level security assurance.</p>
      <p class="small">Prepared for: <strong>Senior Management & CISO</strong> | Project: <strong>DI - ASH AI Pentest Platform</strong> | Date: <strong>February 11, 2026</strong></p>
      <div class="meta-grid">
        <div class="meta-card"><strong>Deployment Model</strong>Single-host, on-prem style platform</div>
        <div class="meta-card"><strong>Primary Use Case</strong>Automated web pentesting + AI-assisted reporting</div>
        <div class="meta-card"><strong>Audience</strong>Security leadership, engineering, operations</div>
        <div class="meta-card"><strong>Report Scope</strong>Current implemented architecture and controls</div>
      </div>
    </section>

    <section class="section">
      <h2>1) Executive Technical Snapshot</h2>
      <p>The platform is a functional AI-assisted penetration testing system combining automated scanners (Nuclei, Nikto, SQLMap, Katana), a FastAPI backend, local LLM analysis via <strong>llama.cpp</strong>, and professionally formatted multi-view reports (combined, executive, technical). It is suitable for internal security operations, scoped assessments, and leadership reporting.</p>
      <div class="kpi">
        <div class="item"><div class="label">Backend Framework</div><div class="value">FastAPI</div></div>
        <div class="item"><div class="label">Scanner Engines</div><div class="value">4</div></div>
        <div class="item"><div class="label">LLM Runtime</div><div class="value">Local</div></div>
        <div class="item"><div class="label">Report Modes</div><div class="value">4</div></div>
      </div>
      <p class="muted">Current status: technically strong for controlled internal usage; requires final hardening controls before external-facing production pitch.</p>
    </section>

    <section class="section">
      <h2>2) Current System Architecture</h2>
      <div class="flow">
[User Browser Dashboard]
      |
      v
[Frontend: HTML/CSS/JS]  ->  [Search / Scan Initiation / Scan History / AI Chat]
      |
      v
[FastAPI Backend (main.py)]
  - Authentication (HTTP Basic)
  - Scan orchestration and process lifecycle
  - Findings normalization and CVSS v4.0 mapping
  - Report generation (combined / executive / technical / compliance)
  - Posture summary and framework mapping (target-level)
  - AI chat and explanation endpoints
      |
      +--> [Scanner binaries: nuclei, nikto, sqlmap, katana]
      +--> [SQLite DB: data/pentest.db]
      +--> [Report artifacts: /reports/*.html + markdown]
      +--> [LLM: llama-server/llama-cli + local GGUF model]
      </div>
      <h3>Key Backend Paths</h3>
      <ul>
        <li>Core app/API orchestration: <code>backend/main.py</code></li>
        <li>Frontend dashboard: <code>frontend/index.html</code>, <code>frontend/dashboard.js</code>, <code>frontend/styles.css</code></li>
        <li>Tool binaries and templates: <code>tools/</code> and <code>tools/nuclei-templates/</code></li>
        <li>Data and logs: <code>data/</code>, <code>logs/</code>, <code>backend/server.log</code></li>
      </ul>
    </section>

    <section class="section">
      <h2>3) Technology Stack (Implemented)</h2>
      <table>
        <thead>
          <tr>
            <th>Layer</th>
            <th>Technology</th>
            <th>Version / Implementation</th>
            <th>Purpose</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>Frontend</td>
            <td>HTML5, CSS3, Vanilla JavaScript</td>
            <td>Custom dashboard UI</td>
            <td>Scan control, live status, chat operations, reporting access</td>
          </tr>
          <tr>
            <td>Backend API</td>
            <td>FastAPI + Uvicorn</td>
            <td>FastAPI 0.128, Uvicorn 0.40</td>
            <td>API routing, auth, orchestration, report services</td>
          </tr>
          <tr>
            <td>Database</td>
            <td>SQLite</td>
            <td><code>data/pentest.db</code></td>
            <td>Users, scan metadata, scan result references</td>
          </tr>
          <tr>
            <td>Pentest Engines</td>
            <td>Nuclei, Nikto, SQLMap, Katana</td>
            <td>Local binaries under <code>tools/</code></td>
            <td>Vulnerability detection, web misconfig checks, SQLi testing, endpoint discovery</td>
          </tr>
          <tr>
            <td>AI Analysis</td>
            <td>llama.cpp server/CLI + GGUF model</td>
            <td>Qwen 2.5 3B (preferred), fallback models</td>
            <td>Natural-language explanations, risk summaries, report narrative support</td>
          </tr>
          <tr>
            <td>Reporting</td>
            <td>HTML template pipeline</td>
            <td>Combined + Executive + Technical outputs</td>
            <td>Stakeholder-friendly outputs with findings and remediation context</td>
          </tr>
        </tbody>
      </table>
    </section>

    <section class="section">
      <h2>4) Scan-to-Report Data Flow</h2>
      <div class="grid-2">
        <div class="card">
          <h3>Operational Flow</h3>
          <ul>
            <li>User initiates scan from New Scan module.</li>
            <li>Backend validates tool and creates scan entry (<code>pending</code>).</li>
            <li>Background task executes scanner with timeout controls.</li>
            <li>Outputs are normalized into finding objects (severity/title/evidence).</li>
            <li>CVSS v4.0 style score strings are generated and assigned.</li>
            <li>Reports are rendered and stored in <code>/reports</code>.</li>
          </ul>
        </div>
        <div class="card">
          <h3>Chat + Explanation Flow</h3>
          <ul>
            <li>Chat command intent parser detects scan/report/explain requests.</li>
            <li>For scan-specific explanations, chat summarizes findings using scan evidence and risk language.</li>
            <li>For topic questions (for example MIME/header issues), chat returns issue description, impact, pentest validation logic, remediation, and references without requiring a scan ID.</li>
            <li>If LLM is unavailable, deterministic fallback guidance is provided.</li>
            <li>Scan start actions auto-refresh scan list and route user to Scan History.</li>
            <li>News ticker and AI status are fetched via authenticated API endpoints.</li>
          </ul>
        </div>
      </div>
      <div class="code">Core APIs: /api/scan, /api/scans, /api/scan/{id}, /api/scan/{id}/report, /api/report/{id}/html, /api/report/target/{target}/compliance_html, /api/posture/summary, /api/chat, /api/ai/status, /api/admin/audit/report/html</div>
    </section>

    <section class="section">
      <h2>5) Security Controls Currently Implemented</h2>
      <table>
        <thead>
          <tr>
            <th>Control Area</th>
            <th>Implementation in Current Build</th>
            <th>Status</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>Authentication</td>
            <td>Role-aware authentication, first-login password rotation, and step-up action password on sensitive scan/report operations.</td>
            <td class="status-strong">Strong</td>
          </tr>
          <tr>
            <td>Password Storage</td>
            <td>Passwords hashed with bcrypt.</td>
            <td class="status-strong">Strong</td>
          </tr>
          <tr>
            <td>Response Hardening</td>
            <td>Security headers set (CSP, X-Frame-Options, X-Content-Type-Options, Referrer-Policy, Permissions-Policy).</td>
            <td class="status-strong">Strong</td>
          </tr>
          <tr>
            <td>Scan Isolation</td>
            <td>Tool runs as subprocess with per-tool timeouts and stop control.</td>
            <td class="status-strong">Strong</td>
          </tr>
          <tr>
            <td>Auditability</td>
            <td>Structured audit events for login, scan/report actions, and admin operations with downloadable audit report.</td>
            <td class="status-strong">Strong</td>
          </tr>
          <tr>
            <td>AI Resilience</td>
            <td>LLM server fallback and deterministic fallback messaging are present.</td>
            <td class="status-strong">Strong</td>
          </tr>
        </tbody>
      </table>
    </section>

    <section class="section">
      <h2>6) Readiness Gaps to Close Before Final Pitch</h2>
      <table>
        <thead>
          <tr>
            <th>Priority</th>
            <th>Gap</th>
            <th>Observed Behavior</th>
            <th>Recommended Action</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>P1</td>
            <td>Default admin bootstrap password</td>
            <td>Admin default is seeded in startup logic for first run.</td>
            <td>Force password change at first login and remove hardcoded bootstrap secret.</td>
          </tr>
          <tr>
            <td>P1</td>
            <td>CORS wildcard</td>
            <td><code>allow_origins=["*"]</code> currently broad.</td>
            <td>Restrict to trusted dashboard origin(s) only.</td>
          </tr>
          <tr>
            <td>P1</td>
            <td>Development reload in runtime scripts</td>
            <td>Uvicorn reload enabled in launch paths.</td>
            <td>Use production profile (no reload), supervised process manager.</td>
          </tr>
          <tr>
            <td>P2</td>
            <td>Access control model</td>
            <td>Single-admin style operation.</td>
            <td>Add RBAC roles (analyst, lead, reviewer, admin) + action audit trail.</td>
          </tr>
          <tr>
            <td>P2</td>
            <td>Auth defense depth</td>
            <td>No explicit login rate limiting or lockout policy.</td>
            <td>Implement rate limiting, lockouts, and session hardening.</td>
          </tr>
        </tbody>
      </table>
    </section>

    <section class="section">
      <h2>7) Compliance & Standards Mapping (Ali & Sons Context)</h2>
      <div class="grid-2">
        <div class="card">
          <h3>Applicable Security Standards</h3>
          <ul>
            <li><strong>ISO/IEC 27001:</strong> Risk treatment, asset protection, security operations governance.</li>
            <li><strong>SOC 2:</strong> Security and monitoring evidence mapping for assurance workflows.</li>
            <li><strong>NIST:</strong> Testing methodology and control-centric remediation tracking.</li>
            <li><strong>OWASP:</strong> Web vulnerability categories and secure development alignment.</li>
            <li><strong>CIS Controls + UAE IAS:</strong> Baseline hardening and regional governance expectations.</li>
          </ul>
        </div>
        <div class="card">
          <h3>How This Platform Supports Compliance</h3>
          <ul>
            <li>Retains tool evidence and output metadata for audit traceability.</li>
            <li>Generates executive, technical, combined, and separate compliance summary reports.</li>
            <li>Provides posture heat map, framework cards, and target risk cards from the same normalized findings set.</li>
            <li>Supports repeatable retest flow by scan ID and target-based consolidated reporting.</li>
          </ul>
        </div>
      </div>
    </section>

    <section class="section">
      <h2>8) Recent Enhancements Delivered (CISO Brief)</h2>
      <table>
        <thead>
          <tr>
            <th>Module</th>
            <th>Implemented Improvement</th>
            <th>Operational Benefit</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>SQLMap Reliability</td>
            <td>Added SQLMap preflight plus multi-variant endpoint discovery (http/https and apex/www), parameter harvesting from Katana/Nikto, and fallback seed crawling.</td>
            <td>Lower scan failure rate and broader real parameter coverage for SQLi validation.</td>
          </tr>
          <tr>
            <td>False Positive Suppression</td>
            <td>System-wide filtering removes SQLMap heuristic/unexploitable indicators from actionable findings and suppresses noisy Nikto remote-read-limit warnings from findings tables.</td>
            <td>Cleaner, decision-ready report outputs with reduced analyst confusion.</td>
          </tr>
          <tr>
            <td>Report Consistency</td>
            <td>Executive "High-Level Findings Overview" now follows total finding counts and no longer truncates small result sets unexpectedly.</td>
            <td>Consistent numbers across executive, technical, combined, posture, and compliance views.</td>
          </tr>
          <tr>
            <td>Posture + Compliance</td>
            <td>Added dashboard posture heat map, framework alignment cards, target risk cards, and target-level compliance report mapped to ISO 27001, SOC 2, NIST, OWASP, CIS, and UAE IAS.</td>
            <td>Professional governance reporting directly from operational data.</td>
          </tr>
          <tr>
            <td>Light-Mode UX</td>
            <td>Refined light-mode login/loading backgrounds, improved dragon/logo contrast, and professionalized report dropdown placement and readability in dark/light themes.</td>
            <td>Better usability and presentation quality for leadership demos.</td>
          </tr>
          <tr>
            <td>Data Hygiene</td>
            <td>Legacy test targets are excluded from scans/reports/posture/compliance summaries to avoid contaminating production metrics.</td>
            <td>Accurate and trustworthy posture statistics for business reporting.</td>
          </tr>
          <tr>
            <td>GitHub Backup</td>
            <td>Git backup automation scripts and service workflow retained for full-project continuity snapshots.</td>
            <td>Improved business continuity and change traceability.</td>
          </tr>
        </tbody>
      </table>
    </section>

    <section class="section">
      <h2>9) Operational Runbook (Recommended)</h2>
      <h3>Daily</h3>
      <ul>
        <li>Verify scanner binary availability and AI engine health.</li>
        <li>Review failed/time-out scans and rerun targeted assessments.</li>
        <li>Validate report generation for latest scan IDs.</li>
      </ul>
      <h3>Weekly</h3>
      <ul>
        <li>Patch tool binaries and nuclei templates in controlled change window.</li>
        <li>Review critical/high findings trend by business system.</li>
        <li>Run backup and restore validation for <code>data/</code>, <code>reports/</code>, and <code>logs/</code>.</li>
      </ul>
      <h3>Monthly</h3>
      <ul>
        <li>Review risk register alignment with remediation closure SLAs.</li>
        <li>Validate management dashboard metrics and quality of AI explanations.</li>
        <li>Conduct internal control test against ISO 27001/NIST evidence expectations.</li>
      </ul>
    </section>

    <section class="section">
      <h2>10) Senior Management Pitch Narrative (Ready-to-Use)</h2>
      <p><strong>What it is:</strong> A centralized AI-assisted pentest platform that automates detection, contextualizes risk, and outputs leadership-ready reports.</p>
      <p><strong>Why it matters:</strong> Faster discovery-to-remediation cycles, consistent reporting quality, and improved evidence posture for governance and audits.</p>
      <p><strong>What makes it strategic:</strong> Local AI analysis engine for data sovereignty, integrated multi-tool validation, and business-readable findings translation.</p>
      <p><strong>What is needed next:</strong> Final hardening controls (auth, CORS, production runtime profile, RBAC) and formal operations playbook adoption.</p>
    </section>

    <section class="section">
      <h2>11) 90-Day Roadmap (Production Readiness)</h2>
      <table>
        <thead>
          <tr>
            <th>Window</th>
            <th>Focus</th>
            <th>Deliverables</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>0-30 days</td>
            <td>Security hardening baseline</td>
            <td>Default credential removal, CORS allowlist, TLS reverse proxy, production server profile.</td>
          </tr>
          <tr>
            <td>31-60 days</td>
            <td>Governance and control maturity</td>
            <td>RBAC, audit log model, retention policy, remediation SLA dashboard.</td>
          </tr>
          <tr>
            <td>61-90 days</td>
            <td>Scale and assurance</td>
            <td>Regression test suite, scheduled scans by asset group, management KPI pack, DR drill.</td>
          </tr>
        </tbody>
      </table>
      <div class="footer">
        This document is generated from the current project implementation and aligned for senior management and CISO presentation use. Treat as confidential internal security architecture material.
      </div>
    </section>
  </div>
</body>
</html>
